{
	"id": "ac4aea41-73a4-f011-b3cd-000d3ab9d08b",
	"createdAt": "2025-10-08T18:18:59.270Z",
	"createdBy": "cezar.strugariu@neptune-software.com",
	"config": {
		"serverScript": "835a3525-73a4-f011-b3cd-000d3ab9d08b",
		"parameters": {
			"javascript": {
				"description": "Required. Javascript to run",
				"type": "string"
			}
		}
	},
	"name": "CustomerData360",
	"ver": "25.10.20.1443",
	"version": null,
	"description": [
		"==OBJECT STRING==",
		"# Internal Dataset Query Tool Guide ",
		"This tool enables dynamic queries against the internal dataset `customer360` for customer and partner data using JavaScript and typeorm. It is designed to work seamlessly in a chat-integrated environment powered by LLMs.",
		"",
		"## Usage Overview",
		"",
		"- Data Source: entityset_customer360",
		"- Context: Script is embedded within an `async` function. Do not define your own async wrapper.",
		"- Interface: Use the `entityManager` object to query the database.",
		" ",
		"",
		"## Implementation Guidelines",
		"",
		"1. Do NOT use `import`, `require`, or external request functions.",
		"2. Do NOT define a new function unless the user explicitly requests one.",
		"3. Never redeclare the `content` object. Assign to it only once.",
		"4. Always include error handling using `try/catch`.",
		"5. Use descriptive output.",
		"6. Never expose field names directly in chat responses. Always use the human-readable descriptions.",
		"7. Valid typeorm operators: In, Any, Between, Equal, IsNull, LessThan, LessThanOrEqual, Like, MoreThan, MoreThanOrEqual, Not, Raw, Brackets",
		"8. DELETE Operations is not allowed, but UPDATE is Allowed",
		"",
		"",
		"## Query Example",
		" ",
		"try {",
		"  const dbRows = await entityManager.find(\"entityset_customer360\", {",
		"    select: [\"AccountId18Char\", \"SFDCAccountName\"],",
		"    where: { SFDCBillingCountry: In([\"Norway\"]) }",
		"  });",
		"",
		"  content = \"Found X accounts in Norway. Each entry includes Account ID and Account Name.\";",
		"  complete();",
		"} catch (err) {",
		"  content = \"Error fetching data: \" + err.message;",
		"  complete();",
		"}",
		" ",
		"",
		"## Output Format Specification",
		"",
		"Your script must conclude with the following two lines:",
		"",
		"content = \"The data to return in string format with explanation information to the LLM\";",
		"complete();",
		"",
		"The `content` string should clearly explain what was retrieved for optimal LLM understanding.",
		"",
		"## Table Field Reference",
		"",
		"Field Name, Description, Field Type, Enum;",
		"AccountId18Char,Account ID,text;",
		"SFDCAccountName,Account Name,text;",
		"S4Licensee,S4 Licensee,text;",
		"SFDCType,Account Type,text, ['Customer','OEM Customer','Prospect Customer','Churn Customer','Lost Prospect','Partner','Partner Prospect','Other'];",
		"SFDCBillingCountry,SFDC Billing Country,text;",
		"SFDCBillingStateProvince,SFDC Billing State/Province,text;",
		"SFDCIndustry,Industry,text;",
		"SFDCEmployees,Number of Employees,text;",
		"StayinMarket,Stay-in-Market,text, ['Retain', null, 'Growth', 'Strategic', 'Protect'];",
		"SFDCAccountOwner,Account Owner,text;",
		"FitScore,Fit Score,text;",
		"IntentScore,Intent Score,integer;",
		"ActonScore,Act-on Score,integer;",
		"InvoiceDue,Invoice Due in Days,text;",
		"DueAmount,Invoice Due Amount,text;",
		"DueCcy,Invoice Due Currency,text;",
		"S4ARRAmount,ARR Amount in EUR,integer;",
		"Maintenance,Maintenance Amount in EUR,integer;",
		"Subscription,Subscription Amount in EUR,integer;",
		"Quarter,Next billing quarter,text;",
		"NextRenewalDate,Next Renewal Date,text;",
		"NextRenewalARR,Next Renewal ARR in EUR,text;",
		"LaterRenewalARR,Later Renewal ARR in EUR,text;",
		"TotalSAP,Total SAP User licenses,text, [\"Enterprise\" or number];",
		"TotalOpen,Total Open User licenses,text,[\"Enterprise\" or number];",
		"SAPruntimes,Number of SAP Runtimes,text;",
		"Openruntimes,Number of Open Runtimes,text;",
		"DXPuserLicenses,DXP User Licenses (SAP+Open),text;",
		"PSE,PSE Amount in EUR,text;",
		"S4BillToCountry,S4 Bill-To Country,text;",
		"S4BillToCompany,S4 Bill-To Company,text;",
		"S4BillToType,S4 Bill-To Type,text;",
		"SFDCPartner,Partner Name,text;",
		"S4SalesforceID,SAP Customer Number,text;",
		"SFDCParentAccountID,Parent Account ID,text;",
		"SFDCParentAccount,Parent Account Name,text;",
		"SFDCWebsite,Account Website,text;"
	],
	"package": "5a907a03-c3ad-f011-8e61-000d3a672cf0",
	"type": "SCRIPT"
}