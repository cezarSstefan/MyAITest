{
	"id": "0a719430-6bab-f011-8e61-000d3ab674a1",
	"createdAt": "2025-10-17T15:09:01.823Z",
	"createdBy": "edip.sopa@neptune-software.com",
	"config": {
		"serverScript": "7d5aa3aa-63a4-f011-b3cd-000d3ab9d08b",
		"parameters": {
			"soql": {
				"description": "SOQL to be used in query statement",
				"type": "string"
			}
		}
	},
	"name": "SalesforceTool_copy",
	"ver": "25.10.20.1443",
	"version": null,
	"description": [
		"==OBJECT STRING==",
		"## Instruction Guide for LLM: Generating Correct SOQL Queries",
		"",
		"### Objective:",
		"Generate syntactically correct and semantically valid SOQL queries for querying Salesforce objects and fields, following the rules and constraints of the SOQL language.",
		"",
		"### 1. Core Syntax Rules",
		"",
		"* A basic SOQL query follows this pattern:",
		"",
		"  SELECT <fields> FROM <object> [WHERE <condition>] [GROUP BY <field>] [ORDER BY <field> ASC|DESC] [LIMIT <number>]",
		"",
		"* Fields: Only select fields that exist on the object being queried.",
		"* Objects: Use the correct API name (e.g., `Account`, `Contact`, `Opportunity`).",
		"* Conditions: Use proper operators (`=`, `!=`, `<`, `>`, `IN`, `LIKE`, etc.) and quote string values.",
		"* Case-sensitive: Field names and object names are case-sensitive and must match Salesforce API naming.",
		"* DELETE and UPDATE statements are not allowed.",
		"",
		"### 2. Field and Object Validation",
		"",
		"* Ensure selected fields exist on the specified object.",
		"* Check for custom fields (ending in `__c`) and relationships (e.g., `Account.Name` on `Contact`).",
		"* When using aggregate functions (`COUNT()`, `SUM(Field)`), ensure:",
		"  * Only allowed fields are used.",
		"  * `GROUP BY` is present if selecting non-aggregated fields.",
		"",
		"### 3. Common Constructs",
		"",
		"#### Count Records",
		"",
		"SELECT COUNT() FROM Contact",
		"",
		"#### Group and Count",
		"",
		"SELECT BillingCountry, COUNT(Id) FROM Account GROUP BY BillingCountry",
		"",
		"#### Filtering with WHERE",
		"",
		"SELECT Name FROM Opportunity WHERE StageName = 'Closed Won' AND Amount > 10000",
		"",
		"#### Date Filtering",
		"",
		"SELECT Name FROM Opportunity WHERE CloseDate >= LAST_N_DAYS:30",
		"",
		"#### Relationship Queries",
		"",
		"* Parent-to-child:",
		"",
		"  SELECT Name, (SELECT LastName FROM Contacts) FROM Account",
		"",
		"* Child-to-parent:",
		"",
		"  SELECT FirstName, Account.Name FROM Contact",
		"",
		"",
		"### 4. DO NOTs and Error Traps",
		"",
		"* Don’t use `*` to select all fields (SOQL doesn't allow it).",
		"* Don’t use SQL functions like `JOIN`, `HAVING`, `UNION`, `ISNULL()` – they are not part of SOQL.",
		"* Don’t query non-queryable fields (like formulas or encrypted fields, unless explicitly allowed).",
		"* Don’t use table aliases (e.g., `a.Name` is invalid unless using nested queries).",
		"",
		"### 5. Good Practices",
		"",
		"* Never list more than 50 items. If your dataset is larger, ask the user to redefine the question.",
		"* Use field-level access logic if applicable (e.g., return only accessible fields).",
		"* Prefer `LIMIT` when querying many records to avoid governor limits.",
		"* Use uppercase for keywords (`SELECT`, `FROM`, `WHERE`) and camelCase for fields/objects.",
		"* Quote string values:",
		"",
		"  WHERE Industry = 'Technology'",
		"",
		"",
		"### 6. Validation Checklist (Before Output)",
		"",
		"- Object name exists in schema",
		"- All selected fields exist on the object",
		"- All filters use valid SOQL syntax",
		"- Aggregates are paired with `GROUP BY` if needed",
		"- Syntax does not contain forbidden SQL constructs",
		"- Parent/child relationships are properly formed",
		"- Strings are quoted; dates use SOQL functions (`LAST_N_DAYS`, `NEXT_YEAR`, etc.)",
		"",
		"### ✅ Examples",
		"",
		"- **User:** Show me accounts in the Technology industry.  ",
		"  **SOQL:**  ",
		"  `SELECT Id, Name, Industry FROM Account WHERE Industry = 'Technology'`",
		"",
		"- **User:** Show opportunities closed in the last 6 months.  ",
		"  **SOQL:**  ",
		"  `SELECT Id, Name, StageName, Amount, CloseDate FROM Opportunity WHERE CloseDate = LAST_N_MONTHS:6`",
		"",
		"- **User:** Count the number of closed won opportunities this quarter.  ",
		"  **SOQL:**  ",
		"  `SELECT COUNT(Id) FROM Opportunity WHERE IsClosed = TRUE AND IsWon = TRUE AND CloseDate = THIS_QUARTER`",
		"",
		"- **User:** List top 10 accounts by revenue.  ",
		"  **SOQL:**  ",
		"  `SELECT Id, Name, AnnualRevenue FROM Account ORDER BY S4AnnualRevenue DESC LIMIT 10`",
		"",
		"- **User:** Get the win rate for opportunities in the past 6 months.  ",
		"  **SOQL:**  ",
		"  `SELECT Id, StageName FROM Opportunity WHERE CloseDate = LAST_N_MONTHS:6`"
	],
	"package": "5a907a03-c3ad-f011-8e61-000d3a672cf0",
	"type": "SCRIPT"
}